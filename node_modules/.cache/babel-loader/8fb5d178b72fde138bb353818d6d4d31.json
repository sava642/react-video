{"ast":null,"code":"import _regeneratorRuntime from\"/Users/savostiny/Desktop/React.projects/React.goit-module5.task1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/savostiny/Desktop/React.projects/React.goit-module5.task1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/savostiny/Desktop/React.projects/React.goit-module5.task1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useOutletContext}from\"react-router-dom\";import{useState,useEffect}from'react';import{fetchMovieIDReviews}from'api';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export var Reviews=function Reviews(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),contentRewiews=_useState2[0],setContentRewiews=_useState2[1];var _useOutletContext=useOutletContext(),movieID=_useOutletContext.movieID;useEffect(function(){var url=\"movie/\".concat(movieID,\"/reviews\");function fetchMovie(){return _fetchMovie.apply(this,arguments);}function _fetchMovie(){_fetchMovie=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var reviews,_contentRewiews;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetchMovieIDReviews(url);case 3:reviews=_context.sent;if(reviews.results){_contentRewiews=reviews.results.map(function(_ref){var author=_ref.author,content=_ref.content;return{author:author,content:content};});setContentRewiews(_contentRewiews);}return _context.abrupt(\"return\");case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return _fetchMovie.apply(this,arguments);}fetchMovie();},[movieID]);return/*#__PURE__*/_jsx(\"section\",{children:contentRewiews?contentRewiews.map(function(el,index){return/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"h3\",{children:[\"Author: \",el.author]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:el.content})]},index);}):/*#__PURE__*/_jsx(\"p\",{children:\"Not reviews\"})});};","map":{"version":3,"names":["useOutletContext","useState","useEffect","fetchMovieIDReviews","Reviews","contentRewiews","setContentRewiews","movieID","url","fetchMovie","reviews","results","map","author","content","console","log","el","index"],"sources":["/Users/savostiny/Desktop/React.projects/React.goit-module5.task1/src/components/Reviews/Reviews.jsx"],"sourcesContent":["import { useOutletContext } from \"react-router-dom\";\nimport { useState, useEffect } from 'react';\nimport { fetchMovieIDReviews } from 'api';\n\n\nexport const Reviews = () => {\n\n\tconst [contentRewiews, setContentRewiews] = useState([])\n\tconst { movieID } = useOutletContext();\n\n\tuseEffect(() => {\n\t\tconst url = `movie/${movieID}/reviews`\n\t\tasync function fetchMovie() {\n\t\t\ttry {\n\t\t\t\tconst reviews = await fetchMovieIDReviews(url);\n\n\t\t\t\tif (reviews.results) {\n\t\t\t\t\tconst contentRewiews = reviews.results.map(({ author, content }) => {\n\t\t\t\t\t\treturn { author, content };\n\t\t\t\t\t});\n\t\t\t\t\tsetContentRewiews(contentRewiews)\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error)\n\t\t\t}\n\t\t}\n\t\tfetchMovie()\n\t}, [movieID])\n\n\treturn (\n\t\t<section>\n\t\t\t{contentRewiews ?\n\t\t\t\tcontentRewiews.map((el, index) => (\n\t\t\t\t\t<ul key={index}>\n\t\t\t\t\t\t<li><h3>Author: {el.author}</h3></li>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{el.content}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</ul>\n\t\t\t\t)) :\n\t\t\t\t(<p>Not reviews</p>)\n\t\t\t}\n\t\t</section>\n\t);\n};"],"mappings":"kdAAA,OAASA,gBAAT,KAAiC,kBAAjC,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,mBAAT,KAAoC,KAApC,C,wFAGA,MAAO,IAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CAE5B,cAA4CH,QAAQ,CAAC,EAAD,CAApD,wCAAOI,cAAP,eAAuBC,iBAAvB,eACA,sBAAoBN,gBAAgB,EAApC,CAAQO,OAAR,mBAAQA,OAAR,CAEAL,SAAS,CAAC,UAAM,CACf,GAAMM,IAAG,iBAAYD,OAAZ,YAAT,CADe,QAEAE,WAFA,0IAEf,uMAEwBN,oBAAmB,CAACK,GAAD,CAF3C,QAEQE,OAFR,eAIE,GAAIA,OAAO,CAACC,OAAZ,CAAqB,CACdN,eADc,CACGK,OAAO,CAACC,OAAR,CAAgBC,GAAhB,CAAoB,cAAyB,IAAtBC,OAAsB,MAAtBA,MAAsB,CAAdC,OAAc,MAAdA,OAAc,CACnE,MAAO,CAAED,MAAM,CAANA,MAAF,CAAUC,OAAO,CAAPA,OAAV,CAAP,CACA,CAFsB,CADH,CAIpBR,iBAAiB,CAACD,eAAD,CAAjB,CACA,CATH,yFAYEU,OAAO,CAACC,GAAR,cAZF,oEAFe,6CAiBfP,UAAU,GACV,CAlBQ,CAkBN,CAACF,OAAD,CAlBM,CAAT,CAoBA,mBACC,yBACEF,cAAc,CACdA,cAAc,CAACO,GAAf,CAAmB,SAACK,EAAD,CAAKC,KAAL,qBAClB,mCACC,iCAAI,iCAAaD,EAAE,CAACJ,MAAhB,GAAJ,EADD,cAEC,aAFD,cAGC,mBACEI,EAAE,CAACH,OADL,EAHD,GAASI,KAAT,CADkB,EAAnB,CADc,cAUb,kCAXH,EADD,CAgBA,CAzCM"},"metadata":{},"sourceType":"module"}