{"ast":null,"code":"import _regeneratorRuntime from\"/Users/savostiny/Desktop/React.projects/React.goit-module5.task1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/savostiny/Desktop/React.projects/React.goit-module5.task1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/savostiny/Desktop/React.projects/React.goit-module5.task1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useParams}from'react-router';import{fetchMovieID}from'../../api';import{Link,Outlet}from'react-router-dom';import{Loader}from'components/Loader/Loader';import{Container,Wrapper,FlexItem,AddInfo,Img,ImgBox}from'./MovieDetails.styled';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function MovieDetails(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),aboutMovie=_useState2[0],setAboutMovie=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useParams=useParams(),movieID=_useParams.movieID;useEffect(function(){var url=\"movie/\".concat(movieID);function fetchMovie(){return _fetchMovie.apply(this,arguments);}function _fetchMovie(){_fetchMovie=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _aboutMovie;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setIsLoading(true);_context.next=4;return fetchMovieID(url);case 4:_aboutMovie=_context.sent;setAboutMovie(_aboutMovie);setIsLoading(false);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0.massage);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return _fetchMovie.apply(this,arguments);}fetchMovie();},[movieID]);var poster_path=aboutMovie.poster_path,title=aboutMovie.title,release_date=aboutMovie.release_date,vote_average=aboutMovie.vote_average,overview=aboutMovie.overview,genres=aboutMovie.genres;var path='https://image.tmdb.org/t/p/w500';var url=\"\".concat(path).concat(poster_path);return/*#__PURE__*/_jsx(Container,{children:isLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{children:\"Go back\"}),/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(ImgBox,{children:poster_path&&/*#__PURE__*/_jsx(Img,{src:url,alt:\"\"})}),/*#__PURE__*/_jsxs(FlexItem,{children:[release_date&&/*#__PURE__*/_jsxs(\"h2\",{children:[title,\" (\",release_date.slice(0,4),\")\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"User Score \",Math.floor(vote_average*10),\"%\"]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Overview\"}),/*#__PURE__*/_jsx(\"p\",{children:overview}),/*#__PURE__*/_jsx(\"h4\",{children:\"Genres\"}),genres&&/*#__PURE__*/_jsx(\"div\",{children:genres.map(function(el){return/*#__PURE__*/_jsxs(\"span\",{children:[\" \",el.name]},el.id);})})]})]}),/*#__PURE__*/_jsxs(AddInfo,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Additional information\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"cast\",children:\"Cast\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"reviews\",children:\"Reviews\"})})]})]}),/*#__PURE__*/_jsx(Outlet,{context:{movieID:movieID}})]})});}","map":{"version":3,"names":["React","useEffect","useState","useParams","fetchMovieID","Link","Outlet","Loader","Container","Wrapper","FlexItem","AddInfo","Img","ImgBox","MovieDetails","aboutMovie","setAboutMovie","isLoading","setIsLoading","movieID","url","fetchMovie","console","log","massage","poster_path","title","release_date","vote_average","overview","genres","path","slice","Math","floor","map","el","name","id"],"sources":["/Users/savostiny/Desktop/React.projects/React.goit-module5.task1/src/components/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { fetchMovieID } from '../../api'\nimport { Link, Outlet } from 'react-router-dom';\nimport { Loader } from 'components/Loader/Loader';\nimport { Container, Wrapper, FlexItem, AddInfo, Img, ImgBox } from './MovieDetails.styled'\n\n\nexport default function MovieDetails() {\n\tconst [aboutMovie, setAboutMovie] = useState({})\n\tconst [isLoading, setIsLoading] = useState(false)\n\n\n\tconst { movieID } = useParams()\n\tuseEffect(() => {\n\t\tconst url = `movie/${movieID}`\n\t\tasync function fetchMovie() {\n\t\t\ttry {\n\t\t\t\tsetIsLoading(true);\n\t\t\t\tconst aboutMovie = await fetchMovieID(url);\n\t\t\t\tsetAboutMovie(aboutMovie)\n\t\t\t\tsetIsLoading(false)\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error.massage)\n\t\t\t}\n\t\t}\n\t\tfetchMovie()\n\t}, [movieID])\n\n\tconst { poster_path, title, release_date, vote_average, overview, genres } = aboutMovie\n\n\tconst path = 'https://image.tmdb.org/t/p/w500'\n\tconst url = `${path}${poster_path}`\n\treturn (\n\n\t\t<Container>\n\t\t\t{isLoading ?\n\t\t\t\t<Loader /> :\n\t\t\t\t<>\n\t\t\t\t\t<button>Go back</button>\n\t\t\t\t\t<Wrapper>\n\t\t\t\t\t\t<ImgBox>\n\t\t\t\t\t\t\t{poster_path && <Img\n\t\t\t\t\t\t\t\tsrc={url}\n\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t</ImgBox>\n\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t{release_date && <h2>{title} ({release_date.slice(0, 4)})</h2>}\n\t\t\t\t\t\t\t<p>User Score {Math.floor(vote_average * 10)}%</p>\n\t\t\t\t\t\t\t<h3>Overview</h3>\n\t\t\t\t\t\t\t<p>{overview}</p>\n\t\t\t\t\t\t\t<h4>Genres</h4>\n\t\t\t\t\t\t\t{genres && <div>{genres.map(el => (\n\t\t\t\t\t\t\t\t<span key={el.id}> {el.name}</span>\n\t\t\t\t\t\t\t))}</div>}\n\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t</Wrapper>\n\n\n\t\t\t\t\t<AddInfo>\n\t\t\t\t\t\t<p>Additional information</p>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<Link to=\"cast\">Cast</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<Link to=\"reviews\">Reviews</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</AddInfo>\n\n\t\t\t\t\t<Outlet context={{ movieID }} />\n\t\t\t\t</>\n\n\t\t\t}\n\n\t\t</Container >\n\t)\n}"],"mappings":"kdAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,cAA1B,CACA,OAASC,YAAT,KAA6B,WAA7B,CACA,OAASC,IAAT,CAAeC,MAAf,KAA6B,kBAA7B,CACA,OAASC,MAAT,KAAuB,0BAAvB,CACA,OAASC,SAAT,CAAoBC,OAApB,CAA6BC,QAA7B,CAAuCC,OAAvC,CAAgDC,GAAhD,CAAqDC,MAArD,KAAmE,uBAAnE,C,6IAGA,cAAe,SAASC,aAAT,EAAwB,CACtC,cAAoCZ,QAAQ,CAAC,EAAD,CAA5C,wCAAOa,UAAP,eAAmBC,aAAnB,eACA,eAAkCd,QAAQ,CAAC,KAAD,CAA1C,yCAAOe,SAAP,eAAkBC,YAAlB,eAGA,eAAoBf,SAAS,EAA7B,CAAQgB,OAAR,YAAQA,OAAR,CACAlB,SAAS,CAAC,UAAM,CACf,GAAMmB,IAAG,iBAAYD,OAAZ,CAAT,CADe,QAEAE,WAFA,0IAEf,qKAEEH,YAAY,CAAC,IAAD,CAAZ,CAFF,sBAG2Bd,aAAY,CAACgB,GAAD,CAHvC,QAGQL,WAHR,eAIEC,aAAa,CAACD,WAAD,CAAb,CACAG,YAAY,CAAC,KAAD,CAAZ,CALF,+EAOEI,OAAO,CAACC,GAAR,CAAY,YAAMC,OAAlB,EAPF,oEAFe,6CAYfH,UAAU,GACV,CAbQ,CAaN,CAACF,OAAD,CAbM,CAAT,CAeA,GAAQM,YAAR,CAA6EV,UAA7E,CAAQU,WAAR,CAAqBC,KAArB,CAA6EX,UAA7E,CAAqBW,KAArB,CAA4BC,YAA5B,CAA6EZ,UAA7E,CAA4BY,YAA5B,CAA0CC,YAA1C,CAA6Eb,UAA7E,CAA0Ca,YAA1C,CAAwDC,QAAxD,CAA6Ed,UAA7E,CAAwDc,QAAxD,CAAkEC,MAAlE,CAA6Ef,UAA7E,CAAkEe,MAAlE,CAEA,GAAMC,KAAI,CAAG,iCAAb,CACA,GAAMX,IAAG,WAAMW,IAAN,SAAaN,WAAb,CAAT,CACA,mBAEC,KAAC,SAAD,WACER,SAAS,cACT,KAAC,MAAD,IADS,cAET,wCACC,mCADD,cAEC,MAAC,OAAD,yBACC,KAAC,MAAD,WACEQ,WAAW,eAAI,KAAC,GAAD,EACf,GAAG,CAAEL,GADU,CAEf,GAAG,CAAC,EAFW,EADjB,EADD,cAOC,MAAC,QAAD,YACEO,YAAY,eAAI,sBAAKD,KAAL,MAAcC,YAAY,CAACK,KAAb,CAAmB,CAAnB,CAAsB,CAAtB,CAAd,OADlB,cAEC,mCAAeC,IAAI,CAACC,KAAL,CAAWN,YAAY,CAAG,EAA1B,CAAf,OAFD,cAGC,gCAHD,cAIC,mBAAIC,QAAJ,EAJD,cAKC,8BALD,CAMEC,MAAM,eAAI,qBAAMA,MAAM,CAACK,GAAP,CAAW,SAAAC,EAAE,qBAC7B,4BAAoBA,EAAE,CAACC,IAAvB,GAAWD,EAAE,CAACE,EAAd,CAD6B,EAAb,CAAN,EANZ,GAPD,GAFD,cAsBC,MAAC,OAAD,yBACC,6CADD,cAEC,mCACC,iCACC,KAAC,IAAD,EAAM,EAAE,CAAC,MAAT,kBADD,EADD,cAIC,iCACC,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,qBADD,EAJD,GAFD,GAtBD,cAkCC,KAAC,MAAD,EAAQ,OAAO,CAAE,CAAEnB,OAAO,CAAPA,OAAF,CAAjB,EAlCD,GAHF,EAFD,CA8CA"},"metadata":{},"sourceType":"module"}