{"ast":null,"code":"import _regeneratorRuntime from\"/Users/savostiny/Desktop/React.projects/React.goit-module5.task1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/savostiny/Desktop/React.projects/React.goit-module5.task1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/savostiny/Desktop/React.projects/React.goit-module5.task1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{fetchTrendingToday}from'api';import{ToastContainer,toast}from\"react-toastify\";import'react-toastify/dist/ReactToastify.css';import{Route,Routes}from\"react-router-dom\";import{Home}from\"../pages/Home\";import Movies from'../pages/Movies';import Movie from'../pages/Movie';import{Cast}from'./Cast/Cast';import{Reviews}from'./Reviews/Reviews';import{SharedLayout}from'./SharedLayout/SharedLayout';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),trends=_useState2[0],setTrends=_useState2[1];useEffect(function(){function fetchTrending(){return _fetchTrending.apply(this,arguments);}function _fetchTrending(){_fetchTrending=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,data,trendsMovies;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url='trending/movie/day';_context.prev=1;_context.next=4;return fetchTrendingToday(url);case 4:data=_context.sent;trendsMovies=data.results.map(function(_ref){var id=_ref.id,title=_ref.title;return{id:id,title:title};});if(trendsMovies){setTrends(trendsMovies);}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);toast(_context.t0.massage);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return _fetchTrending.apply(this,arguments);}fetchTrending();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(SharedLayout,{}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Home,{trends:trends})}),/*#__PURE__*/_jsx(Route,{path:\"/movies\",element:/*#__PURE__*/_jsx(Movies,{})}),/*#__PURE__*/_jsxs(Route,{path:\"/movies/:movieID\",element:/*#__PURE__*/_jsx(Movie,{}),children:[/*#__PURE__*/_jsx(Route,{path:\"cast\",element:/*#__PURE__*/_jsx(Cast,{})}),/*#__PURE__*/_jsx(Route,{path:\"reviews\",element:/*#__PURE__*/_jsx(Reviews,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(\"div\",{children:\"Not found\"})})]})})]});}","map":{"version":3,"names":["useState","useEffect","fetchTrendingToday","ToastContainer","toast","Route","Routes","Home","Movies","Movie","Cast","Reviews","SharedLayout","App","trends","setTrends","fetchTrending","url","data","trendsMovies","results","map","id","title","massage"],"sources":["/Users/savostiny/Desktop/React.projects/React.goit-module5.task1/src/components/App.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { fetchTrendingToday } from 'api';\nimport { ToastContainer, toast } from \"react-toastify\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Route, Routes } from \"react-router-dom\";\nimport { Home } from \"../pages/Home\";\nimport Movies from '../pages/Movies';\nimport Movie from '../pages/Movie';\nimport { Cast } from './Cast/Cast';\nimport { Reviews } from './Reviews/Reviews';\nimport { SharedLayout } from './SharedLayout/SharedLayout';\n\n\nexport default function App() {\n  const [trends, setTrends] = useState([]);\n\n  useEffect(() => {\n    async function fetchTrending() {\n      const url = 'trending/movie/day'\n      try {\n        const data = await fetchTrendingToday(url);\n        const trendsMovies = data.results.map(({ id, title\n        }) => {\n          return { id, title };\n        });\n        if (trendsMovies) {\n          setTrends(trendsMovies);\n        }\n      } catch (error) {\n        toast(error.massage)\n      }\n    }\n    fetchTrending()\n  }, [])\n\n  return (\n    <>\n      <ToastContainer />\n      <Routes>\n        <Route path=\"/\" element={<SharedLayout />}>\n          <Route index element={<Home trends={trends} />} />\n          <Route path=\"/movies\" element={<Movies />} />\n          <Route path=\"/movies/:movieID\" element={<Movie />} >\n            <Route path=\"cast\" element={<Cast />} />\n            <Route path=\"reviews\" element={<Reviews />} />\n          </Route>\n          <Route path=\"*\" element={<div>Not found</div>} />\n        </Route>\n      </Routes>\n    </>\n  );\n}\n\n"],"mappings":"kdAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,kBAAT,KAAmC,KAAnC,CACA,OAASC,cAAT,CAAyBC,KAAzB,KAAsC,gBAAtC,CACA,MAAO,uCAAP,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,kBAA9B,CACA,OAASC,IAAT,KAAqB,eAArB,CACA,MAAOC,OAAP,KAAmB,iBAAnB,CACA,MAAOC,MAAP,KAAkB,gBAAlB,CACA,OAASC,IAAT,KAAqB,aAArB,CACA,OAASC,OAAT,KAAwB,mBAAxB,CACA,OAASC,YAAT,KAA6B,6BAA7B,C,6IAGA,cAAe,SAASC,IAAT,EAAe,CAC5B,cAA4Bb,QAAQ,CAAC,EAAD,CAApC,wCAAOc,MAAP,eAAeC,SAAf,eAEAd,SAAS,CAAC,UAAM,SACCe,cADD,mJACd,+JACQC,GADR,CACc,oBADd,uCAGuBf,mBAAkB,CAACe,GAAD,CAHzC,QAGUC,IAHV,eAIUC,YAJV,CAIyBD,IAAI,CAACE,OAAL,CAAaC,GAAb,CAAiB,cAChC,IADmCC,GACnC,MADmCA,EACnC,CADuCC,KACvC,MADuCA,KACvC,CACJ,MAAO,CAAED,EAAE,CAAFA,EAAF,CAAMC,KAAK,CAALA,KAAN,CAAP,CACD,CAHoB,CAJzB,CAQI,GAAIJ,YAAJ,CAAkB,CAChBJ,SAAS,CAACI,YAAD,CAAT,CACD,CAVL,+EAYIf,KAAK,CAAC,YAAMoB,OAAP,CAAL,CAZJ,oEADc,gDAgBdR,aAAa,GACd,CAjBQ,CAiBN,EAjBM,CAAT,CAmBA,mBACE,wCACE,KAAC,cAAD,IADF,cAEE,KAAC,MAAD,wBACE,MAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,KAAC,YAAD,IAAzB,wBACE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,OAAO,cAAE,KAAC,IAAD,EAAM,MAAM,CAAEF,MAAd,EAAtB,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,OAAO,cAAE,KAAC,MAAD,IAA/B,EAFF,cAGE,MAAC,KAAD,EAAO,IAAI,CAAC,kBAAZ,CAA+B,OAAO,cAAE,KAAC,KAAD,IAAxC,wBACE,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,OAAO,cAAE,KAAC,IAAD,IAA5B,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,OAAO,cAAE,KAAC,OAAD,IAA/B,EAFF,GAHF,cAOE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,kCAAzB,EAPF,GADF,EAFF,GADF,CAgBD"},"metadata":{},"sourceType":"module"}